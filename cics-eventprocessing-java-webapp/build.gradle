/*
 * This file was generated by the Gradle 'init' task.
 */
plugins
{
	id 'java'
	id 'eclipse'
	id 'idea'
	id 'war'
}

repositories {
    mavenCentral()
}

// If in Eclipse, add Javadoc to the local project classpath
eclipse 
{
    classpath 
    {
        downloadJavadoc = true
    }
}

java
{
    toolchain
    {
        languageVersion = JavaLanguageVersion.of(java_version)
        vendor = JvmVendorSpec.IBM
        implementation = JvmImplementation.J9
    }
}

dependencies {
    // CICS TS V5.5 Maven BOM (as of 19th May 2020)
    compileOnly enforcedPlatform("com.ibm.cics:com.ibm.cics.ts.bom:5.5-20200519131930-PH25409")	
    //annotationProcessor enforcedPlatform("com.ibm.cics:com.ibm.cics.ts.bom:5.5-20200519131930-PH25409")

    // Don't include JCICS components in the final build (no need for version because we have BOM)
    compileOnly 'com.ibm.cics:com.ibm.cics.server'
    compileOnly 'com.ibm.cics:com.ibm.cics.server.invocation.annotations'
    compileOnly 'javax.servlet:javax.servlet-api:3.1.0'

    // Enable CICS Link to Liberty annotation processor   
    // Note: Java 11 support is only currently available in the 6.1 version of the annotation processor. 
    // This is backwards compatible with older version so long as we don't use the new function in 6.1 (Link to CDI beans).
    annotationProcessor ("com.ibm.cics:com.ibm.cics.server.invocation:6.1")
}

description = 'cics-eventprocessing-java - Webapp'
